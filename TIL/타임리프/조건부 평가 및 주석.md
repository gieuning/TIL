# 2025-03-29
---

# 타임리프 조건부 평가

> 타임리프는 HTML 태그에 `th:if`, `th:unless`, `th:switch` 등을 붙여  
**조건에 따라 태그를 출력할지 말지 결정**할 수 있다.
---

## th:if / th:unless
- `th:if` - 조건이 true일 때 태그 출력
- `th:unless` - 조건이 false일 때 태그 출력 
- 조건이 만족되지 않으면 HTML에서 해당 태그 자체가 렌더링되지 않는다. (빈 칸도 나오지 않는다)

```html
<span th:if="${user.age >= 20}">성인입니다</span>
<span th:unless="${user.age >= 20}">미성년자입니다</span>
```
---

## switch/case 문법
- th:switch - 기준이 되는 값 지정
- th:case - 조건 값 지정(case)
- th:case="*" - default 역할 (기타 모든 경우)
- 
```html
<div th:switch="${user.age}">
  <p th:case="10">10살입니다</p>
  <p th:case="20">20살입니다</p>
  <p th:case="*">기타 나이</p>
</div>
```
---


**코드 예시**
```html
<table>
  <tr th:each="user : ${users}">
    <td th:text="${user.username}"></td>
    <td>
      <span th:if="${user.age < 20}">미성년자</span>
      <span th:if="${user.age >= 20}">성인</span>
    </td>
  </tr>
</table>
```

# 🗒️ 타임리프 주석

> 타임리프에서는 **3가지 방식의 주석**을 사용할 수 있다. 각 주석은 처리 방식이 다르며, 상황에 따라 적절히 사용해야 해요.
---

## 1️⃣ HTML 주석 (`<!-- ... -->`)
- 브라우저 검사(소스 보기)에서 주석 내용이 그대로 보인다.
- 타임리프 문법이 적용되지 않기 때문에, `th:*` 속성이 남아있어도 렌더링이 되지 않는다. 
- 
```html
<!-- -->
<!-- <span th:text="${data}">HTML 주석</span> -->
```
---

## 타임리프 파서 주석 (<!--/* ... */-->)
- 타임리프가 주석으로 인식하고 무시한다.
- HTML에서는 일반 텍스트로 처리된다.
- 렌더링 결과에 전혀 출력되지 않는다. 

```html
<!-- /* */ -->
<!--/* <span th:text="${data}">파서 주석</span> */-->
```
---

## 타임리프 프로토타입 주석 (<!--/*/ ... /*/-->)
- HTML 파일에서 열어볼 때는 주석으로 보인다.
- 타임리프가 렌더링할 땐 코드로 동작한다.
- 즉, HTML 편집기에선 숨기고, 서버에선 출력하는 방식 
```html
<!-- /*/ /*/ -->
<!--/*/ <span th:text="${data}">프로토타입 주석</span> /*/-->
```

### 요약 비교

| 종류                          | 렌더링됨 | 타임리프 해석 | HTML에서 보임 |
|-------------------------------|:--------:|:-------------:|:-------------:|
| `<!-- ... -->`                | ❌       | ❌             | ✅            |
| `<!--/* ... */-->`            | ❌       | ✅             | ❌            |
| `<!--/*/ ... /*/-->`          | ✅       | ✅             | ❌            |